{% extends "layout.html" %}
{% block title %}My Orders · Indian Food App{% endblock %}

{% block content %}
<h2 class="mb-3">My Orders</h2>

<div class="card shadow-sm">
  <div class="table-responsive">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>When</th>
          <th>Status</th>
          <th>Total</th>
          <th>Items</th>
        </tr>
      </thead>
      <tbody>
        {% for r in rows %}
          <tr>
            <td>#{{ r.id }}</td>
            <td>{{ r.created_at }}</td>
            <td>{{ r.status|capitalize }}</td>
            <td>{{ (r.total or 0) | vnd }}</td>
            <td>
              <ul class="mb-0">
                {% for it in items_map[r.id] %}
                  <li>{{ it['name'] }} × {{ it['quantity'] }} ({{ it['price']|vnd }})</li>
                {% endfor %}
              </ul>
            </td>
          </tr>
        {% else %}
          <tr><td colspan="5" class="text-center text-secondary py-4">No orders yet.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
